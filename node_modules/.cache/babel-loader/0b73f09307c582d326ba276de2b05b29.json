{"ast":null,"code":"var _jsxFileName = \"D:\\\\6th sem\\\\HCI\\\\Co-act-main\\\\Co-act-main\\\\src\\\\components\\\\CospaceSection.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Component } from \"react\";\nimport { NotificationContainer, NotificationManager } from \"react-notifications\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CospaceSection extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: []\n    };\n\n    this.componentDidMount = () => {\n      this.getCospaces();\n\n      if (localStorage.getItem(\"cospace_created\") === \"1\") {\n        NotificationManager.success(\"Co-Space Created Successfully!\");\n        localStorage.setItem(\"cospace_created\", \"0\");\n      }\n    };\n\n    this.getCospaces = () => {\n      const uid = JSON.parse(localStorage.getItem(\"user\")).id;\n      axios.get(\"http://localhost:8000/cospace/\").then(response => {\n        let data = [];\n        response.data.map((post, index) => {\n          if (post.uid === uid) {\n            data.push(post);\n          } else {\n            post.coactors.map((obj, index) => {\n              if (obj.id === uid) {\n                data.push(post);\n              }\n            });\n          }\n        });\n        this.setState({\n          posts: data\n        });\n        console.log(\"Data has been received!!\");\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    this.setCurrentCospace = e => {\n      localStorage.setItem(\"recent_cospace_clicked\", e.currentTarget.id);\n      this.state.posts.map(post => {\n        if (post.cospacename === e.currentTarget.id) {\n          localStorage.setItem(\"recent_cospace_clicked_description\", post.description);\n          localStorage.setItem(\"recent_cospace_clicked_coactors\", JSON.stringify(post.coactors));\n          localStorage.setItem(\"recent_cospace_clicked_uid\", post.uid);\n        }\n      });\n      window.location.href = \"http://localhost:3000/taskpage\";\n    };\n\n    this.displayCospace = posts => {\n      return posts.map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cospace\",\n        id: post.cospacename,\n        onClick: this.setCurrentCospace,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: post.cospacename\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: post.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cospacesection\",\n      children: [/*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainpageheading\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Co-SPACES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cospacelist\",\n        children: this.displayCospace(this.state.posts)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/createcospace\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"createcospacebutton\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/images/Add User Group Man Man.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default CospaceSection;","map":{"version":3,"sources":["D:/6th sem/HCI/Co-act-main/Co-act-main/src/components/CospaceSection.js"],"names":["React","Link","axios","Component","NotificationContainer","NotificationManager","CospaceSection","state","posts","componentDidMount","getCospaces","localStorage","getItem","success","setItem","uid","JSON","parse","id","get","then","response","data","map","post","index","push","coactors","obj","setState","console","log","catch","e","setCurrentCospace","currentTarget","cospacename","description","stringify","window","location","href","displayCospace","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Component } from \"react\";\n\nimport {\n  NotificationContainer,\n  NotificationManager,\n} from \"react-notifications\";\n\nclass CospaceSection extends Component {\n  state = { posts: [] };\n  componentDidMount = () => {\n    this.getCospaces();\n    if (localStorage.getItem(\"cospace_created\") === \"1\") {\n      NotificationManager.success(\"Co-Space Created Successfully!\");\n      localStorage.setItem(\"cospace_created\", \"0\");\n    }\n  };\n  getCospaces = () => {\n    const uid = JSON.parse(localStorage.getItem(\"user\")).id;\n\n    axios\n      .get(\"http://localhost:8000/cospace/\")\n      .then((response) => {\n        let data = [];\n        response.data.map((post, index) => {\n          if (post.uid === uid) {\n            data.push(post);\n          } else {\n            post.coactors.map((obj, index) => {\n              if (obj.id === uid) {\n                data.push(post);\n              }\n            });\n          }\n        });\n\n        this.setState({ posts: data });\n        console.log(\"Data has been received!!\");\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  setCurrentCospace = (e) => {\n    localStorage.setItem(\"recent_cospace_clicked\", e.currentTarget.id);\n    this.state.posts.map((post) => {\n      if (post.cospacename === e.currentTarget.id) {\n        localStorage.setItem(\n          \"recent_cospace_clicked_description\",\n          post.description\n        );\n        localStorage.setItem(\n          \"recent_cospace_clicked_coactors\",\n          JSON.stringify(post.coactors)\n        );\n        localStorage.setItem(\"recent_cospace_clicked_uid\", post.uid);\n      }\n    });\n    window.location.href = \"http://localhost:3000/taskpage\";\n  };\n\n  displayCospace = (posts) => {\n    return posts.map((post, index) => (\n      <div\n        key={index}\n        className=\"cospace\"\n        id={post.cospacename}\n        onClick={this.setCurrentCospace}\n      >\n        <h3>{post.cospacename}</h3>\n        <p>{post.description}</p>\n      </div>\n    ));\n  };\n\n  render() {\n    return (\n      <div className=\"cospacesection\">\n        <NotificationContainer/>\n        <div className=\"mainpageheading\">\n          <h1>Co-SPACES</h1>\n        </div>\n        <div className=\"cospacelist\">\n          {this.displayCospace(this.state.posts)}\n        </div>\n        <Link to=\"/createcospace\">\n          <button className=\"createcospacebutton\">\n            <img src=\"/images/Add User Group Man Man.png\" />\n            <p>Create</p>\n          </button>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default CospaceSection;\n"]},"metadata":{},"sourceType":"module"}