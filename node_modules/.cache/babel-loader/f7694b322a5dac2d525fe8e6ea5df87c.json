{"ast":null,"code":"var _jsxFileName = \"D:\\\\6th sem\\\\HCI\\\\Co-act-main\\\\Co-act-main\\\\src\\\\components\\\\CospaceSection.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Component } from \"react\";\nimport { NotificationContainer, NotificationManager } from \"react-notifications\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass CospaceSection extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      posts: []\n    };\n    this.componentDidMount = () => {\n      this.getCospaces();\n      if (localStorage.getItem(\"cospace_created\") === \"1\") {\n        NotificationManager.success(\"Co-Space Created Successfully!\");\n        localStorage.setItem(\"cospace_created\", \"0\");\n      }\n    };\n    this.getCospaces = () => {\n      const uid = JSON.parse(localStorage.getItem(\"user\")).id;\n      axios.get(\"http://localhost:8000/cospace/\").then(response => {\n        let data = [];\n        response.data.map((post, index) => {\n          if (post.uid === uid) {\n            data.push(post);\n          } else {\n            post.coactors.map((obj, index) => {\n              if (obj.id === uid) {\n                data.push(post);\n              }\n            });\n          }\n        });\n        this.setState({\n          posts: data\n        });\n        console.log(\"Data has been received!!\");\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n    this.setCurrentCospace = e => {\n      localStorage.setItem(\"recent_cospace_clicked\", e.currentTarget.id);\n      this.state.posts.map(post => {\n        if (post.cospacename === e.currentTarget.id) {\n          localStorage.setItem(\"recent_cospace_clicked_description\", post.description);\n          localStorage.setItem(\"recent_cospace_clicked_coactors\", JSON.stringify(post.coactors));\n          localStorage.setItem(\"recent_cospace_clicked_uid\", post.uid);\n        }\n      });\n      window.location.href = \"http://localhost:3000/taskpage\";\n    };\n    this.displayCospace = posts => {\n      return posts.map((post, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cospace\",\n        id: post.cospacename,\n        onClick: this.setCurrentCospace,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: post.cospacename\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: post.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this));\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cospacesection\",\n      children: [/*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainpageheading\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Co-SPACES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cospacelist\",\n        children: this.displayCospace(this.state.posts)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/createcospace\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"createcospacebutton\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/images/Add User Group Man Man.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default CospaceSection;","map":{"version":3,"names":["React","Link","axios","Component","NotificationContainer","NotificationManager","jsxDEV","_jsxDEV","CospaceSection","constructor","arguments","state","posts","componentDidMount","getCospaces","localStorage","getItem","success","setItem","uid","JSON","parse","id","get","then","response","data","map","post","index","push","coactors","obj","setState","console","log","catch","e","setCurrentCospace","currentTarget","cospacename","description","stringify","window","location","href","displayCospace","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","render","to","src"],"sources":["D:/6th sem/HCI/Co-act-main/Co-act-main/src/components/CospaceSection.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Component } from \"react\";\n\nimport {\n  NotificationContainer,\n  NotificationManager,\n} from \"react-notifications\";\n\nclass CospaceSection extends Component {\n  state = { posts: [] };\n  componentDidMount = () => {\n    this.getCospaces();\n    if (localStorage.getItem(\"cospace_created\") === \"1\") {\n      NotificationManager.success(\"Co-Space Created Successfully!\");\n      localStorage.setItem(\"cospace_created\", \"0\");\n    }\n  };\n  getCospaces = () => {\n    const uid = JSON.parse(localStorage.getItem(\"user\")).id;\n\n    axios\n      .get(\"http://localhost:8000/cospace/\")\n      .then((response) => {\n        let data = [];\n        response.data.map((post, index) => {\n          if (post.uid === uid) {\n            data.push(post);\n          } else {\n            post.coactors.map((obj, index) => {\n              if (obj.id === uid) {\n                data.push(post);\n              }\n            });\n          }\n        });\n\n        this.setState({ posts: data });\n        console.log(\"Data has been received!!\");\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  setCurrentCospace = (e) => {\n    localStorage.setItem(\"recent_cospace_clicked\", e.currentTarget.id);\n    this.state.posts.map((post) => {\n      if (post.cospacename === e.currentTarget.id) {\n        localStorage.setItem(\n          \"recent_cospace_clicked_description\",\n          post.description\n        );\n        localStorage.setItem(\n          \"recent_cospace_clicked_coactors\",\n          JSON.stringify(post.coactors)\n        );\n        localStorage.setItem(\"recent_cospace_clicked_uid\", post.uid);\n      }\n    });\n    window.location.href = \"http://localhost:3000/taskpage\";\n  };\n\n  displayCospace = (posts) => {\n    return posts.map((post, index) => (\n      <div\n        key={index}\n        className=\"cospace\"\n        id={post.cospacename}\n        onClick={this.setCurrentCospace}\n      >\n        <h3>{post.cospacename}</h3>\n        <p>{post.description}</p>\n      </div>\n    ));\n  };\n\n  render() {\n    return (\n      <div className=\"cospacesection\">\n        <NotificationContainer/>\n        <div className=\"mainpageheading\">\n          <h1>Co-SPACES</h1>\n        </div>\n        <div className=\"cospacelist\">\n          {this.displayCospace(this.state.posts)}\n        </div>\n        <Link to=\"/createcospace\">\n          <button className=\"createcospacebutton\">\n            <img src=\"/images/Add User Group Man Man.png\" />\n            <p>Create</p>\n          </button>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default CospaceSection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}